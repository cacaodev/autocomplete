<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Autosuggest</title>
  </head>

  <body>
    <!-- search container -->
    <div class="container">
      <div class="row">
        <div class="search">
          <input type="text" id="search" class="full-width" placeholder="Enter le">
        </div>
      </div>
    </div>

    <!-- map -->
    <div id="map"></div>

    <script type="text/javascript">
      if (!('Promise' in window)) {
        var script = document.createElement("script");
        script.src = "https://polyfill.io/v3/polyfill.min.js?features=Promise";
        document.getElementsByTagName('head')[0].appendChild(script);
      }
    </script>
    <script type="text/javascript">
      window.addEventListener('DOMContentLoaded', function () {
        new Autosuggest('#search', {
          howManyCharacters: 2,
          delay: 500,
          output: 'output-list',
          searchMethod: true,
          error: {
            placeholder: 'something went wrong...',
          },
          clearButton: true,
          dataAPI: {
            // static files
            path: '../static/users.json',

            // jsonplaceholder dynami data 
            // searchLike: true,
            // path: 'https://jsonplaceholder.typicode.com/users?name_like=',
          },
          // static file example from jsonplaceholder site
          specificOutput: function (matches) {
            const regex = new RegExp(`${matches[0]}`, 'gi');
            const html = matches.slice(1)
              .filter((element, index) => {
                return element.name.match(regex);
              })
              .sort((a, b) => a - b)
              .map(el => {
                return `<li>
                  <p>${el.name.replace(regex, (str) => `<b>${str}</b>`)}</p>
                  </li>`;
              });
            return html.join('');
          }
        });

      });
    </script>
  </body>

</html>