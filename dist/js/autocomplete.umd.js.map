{"version":3,"file":"autocomplete.umd.js","sources":["../../sources/js/utils/function.js","../../sources/js/utils/keyCodes.js","../../sources/js/script.js"],"sourcesContent":["/**\r\n * Check is a Object\r\n * @param {Object} value\r\n * @returns {Boolean}\r\n */\r\nconst isObject = (value) =>\r\n  value && typeof value === \"object\" && value.constructor === Object;\r\n\r\n/**\r\n * Check if is a Promise\r\n * https://stackoverflow.com/a/53955664/10424385\r\n *\r\n * @param {Object} value\r\n * @returns {Boolean}\r\n */\r\nconst isPromise = (value) => Boolean(value && typeof value.then === \"function\");\r\n\r\n/**\r\n * Set attributes to element\r\n *\r\n * @param {HTMLElement} el\r\n * @param {Object} object\r\n */\r\nconst setAttributes = (el, object) => {\r\n  for (let key in object) {\r\n    if (key === \"addClass\") {\r\n      classList(el, \"add\", object[key]);\r\n    } else if (key === \"removeClass\") {\r\n      classList(el, \"remove\", object[key]);\r\n    } else {\r\n      el.setAttribute(key, object[key]);\r\n    }\r\n  }\r\n};\r\n\r\n/**\r\n * Get first element from child\r\n *\r\n * @param {HTMLElement} element\r\n * @returns {HTMLELement}\r\n */\r\nconst getFirstElement = (element) =>\r\n  (element.firstElementChild || element).textContent.trim();\r\n\r\n/**\r\n * Scroll to top result-list\r\n * @param {HTMLElement} resultList\r\n * @param {HTMLElement} resultWrap\r\n */\r\nconst scrollResultsToTop = (resultList, resultWrap) => {\r\n  // if there is an overflow of ul element, after\r\n  // opening we always move ul to the top of the results\r\n  resultList.scrollTop = resultList.offsetTop - resultWrap.offsetHeight;\r\n};\r\n\r\n/**\r\n * Adding role, tabindex, aria and call handleMouse\r\n *\r\n * @param {HTMLElement} itemsLi\r\n */\r\nconst addAriaToAllLiElements = (itemsLi) => {\r\n  // add role to all li elements\r\n  for (let i = 0; i < itemsLi.length; i++) {\r\n    setAttributes(itemsLi[i], {\r\n      role: \"option\",\r\n      tabindex: \"-1\",\r\n      \"aria-selected\": \"false\",\r\n      \"aria-setsize\": itemsLi.length,\r\n      \"aria-posinset\": i,\r\n    });\r\n  }\r\n};\r\n\r\n/**\r\n * Show btn to clear data\r\n *\r\n * @param {HTMLElement} clearButton - button to clear data\r\n * @param {Function} destroy - destroy function\r\n */\r\nconst showBtnToClearData = (clearButton = false, destroy) => {\r\n  if (!clearButton) return;\r\n\r\n  classList(clearButton, \"remove\", \"hidden\");\r\n  // add event to clear button\r\n  onEvent(clearButton, \"click\", destroy);\r\n};\r\n\r\n/**\r\n * ClassList add/remove/contains\r\n *\r\n * @param {HTMLElement} element - html element\r\n * @param {String} action - add/remove/contains\r\n * @param {String} className - class name\r\n */\r\nconst classList = (element, action, className) =>\r\n  element.classList[action](className);\r\n\r\n/**\r\n * Set aria-activedescendant\r\n *\r\n * @param {HTMLElement} root - search input\r\n * @param {String} type\r\n */\r\nconst setAriaActivedescendant = (root, type) => {\r\n  setAttributes(root, {\r\n    \"aria-activedescendant\": type || \"\",\r\n  });\r\n};\r\n\r\n/**\r\n * Get height of ul without group class\r\n *\r\n * @param {String} outputUl\r\n * @param {String} classGroup\r\n * @returns {Number}\r\n */\r\nconst getClassGroupHeight = (outputUl, classGroup) => {\r\n  // get height of ul without group class\r\n  const allLiElements = document.querySelectorAll(\r\n    `#${outputUl} > li:not(.${classGroup})`\r\n  );\r\n  let height = 0;\r\n  [].slice.call(allLiElements).map((el) => (height += el.offsetHeight));\r\n\r\n  // return height\r\n  return height;\r\n};\r\n\r\n/**\r\n * Scroll into view when press up/down arrows\r\n *\r\n * @param {HTMLElement} target\r\n * @param {HTMLElement} outputUl\r\n * @param {String} classGroup\r\n * @param {HTMLElement} resultList\r\n */\r\nconst followActiveElement = (target, outputUl, classGroup, resultList) => {\r\n  const previusElement = resultList.previousSibling;\r\n\r\n  const previusElementHeight = previusElement ? previusElement.offsetHeight : 0;\r\n\r\n  if (target.getAttribute(\"aria-posinset\") == \"0\") {\r\n    resultList.scrollTop =\r\n      target.offsetTop - getClassGroupHeight(outputUl, classGroup);\r\n  }\r\n\r\n  if (target.offsetTop - previusElementHeight < resultList.scrollTop) {\r\n    resultList.scrollTop = target.offsetTop - previusElementHeight;\r\n  } else {\r\n    const offsetBottom =\r\n      target.offsetTop + target.offsetHeight - previusElementHeight;\r\n    const scrollBottom = resultList.scrollTop + resultList.offsetHeight;\r\n    if (offsetBottom > scrollBottom) {\r\n      resultList.scrollTop = offsetBottom - resultList.offsetHeight;\r\n    }\r\n  }\r\n};\r\n\r\n/**\r\n * Create output-list and put after search input\r\n *\r\n * @param {HTMLElement} root - search input\r\n * @param {HTMLElement} resultList - output-list ul\r\n * @param {String} outputUl - id name of output-list\r\n * @param {HTMLElement} resultWrap - wrapper ul element\r\n * @param {String} prefix - add prefix to all class auto\r\n */\r\nconst output = (root, resultList, outputUl, resultWrap, prefix) => {\r\n  // set attribute to results-list\r\n  setAttributes(resultList, {\r\n    id: outputUl,\r\n    tabIndex: \"0\",\r\n    role: \"listbox\",\r\n  });\r\n\r\n  // add class to wrap element\r\n  setAttributes(resultWrap, {\r\n    addClass: `${prefix}-results-wrapper`,\r\n  });\r\n\r\n  // insert the results into the wrap element\r\n  resultWrap.insertAdjacentElement(\"beforeend\", resultList);\r\n\r\n  // insert the wrap element after the search input\r\n  root.parentNode.insertBefore(resultWrap, root.nextSibling);\r\n};\r\n\r\n/**\r\n * Create element\r\n *\r\n * @param {String} type - type of element\r\n * @returns {HTMLDivElement}\r\n */\r\nconst createElement = (type) => document.createElement(type);\r\n\r\n/**\r\n * Get element\r\n *\r\n * @param {String} element\r\n * @returns {HTMLElement}\r\n */\r\nconst select = (element) => document.querySelector(element);\r\n\r\n/**\r\n * Event listeners\r\n *\r\n * @param {HTMLElement} element\r\n * @param {String} action\r\n * @param {Function} callback\r\n */\r\nconst onEvent = (element, action, callback) => {\r\n  element.addEventListener(action, callback);\r\n};\r\n\r\n/**\r\n * Remove event listeners\r\n */\r\nconst offEvent = (element, action, callback) => {\r\n  element.removeEventListener(action, callback);\r\n};\r\n\r\nexport {\r\n  addAriaToAllLiElements,\r\n  classList,\r\n  createElement,\r\n  followActiveElement,\r\n  getFirstElement,\r\n  isObject,\r\n  isPromise,\r\n  offEvent,\r\n  onEvent,\r\n  output,\r\n  scrollResultsToTop,\r\n  select,\r\n  setAriaActivedescendant,\r\n  setAttributes,\r\n  showBtnToClearData,\r\n};\r\n","/**\r\n * Key codes\r\n */\r\nconst keyCodes = {\r\n  ESC: 27,\r\n  ENTER: 13,\r\n  UP: 38,\r\n  DOWN: 40,\r\n  TAB: 9,\r\n};\r\n\r\nexport default keyCodes;\r\n","import {\r\n  addAriaToAllLiElements,\r\n  classList,\r\n  createElement,\r\n  followActiveElement,\r\n  getFirstElement,\r\n  isObject,\r\n  isPromise,\r\n  offEvent,\r\n  onEvent,\r\n  output,\r\n  scrollResultsToTop,\r\n  select,\r\n  setAriaActivedescendant,\r\n  setAttributes,\r\n  showBtnToClearData,\r\n} from \"./utils/function\";\r\n\r\nimport keyCodes from \"./utils/keyCodes\";\r\n\r\n/**\r\n * @class Autocomplete\r\n */\r\nexport default class Autocomplete {\r\n  /**\r\n   * Constructor\r\n   *\r\n   * @param {String} element\r\n   * @param {Object} object\r\n   */\r\n  constructor(\r\n    element,\r\n    {\r\n      delay = 500,\r\n      clearButton = true,\r\n      clearButtonOnInitial = false,\r\n      howManyCharacters = 1,\r\n      selectFirst = false,\r\n      insertToInput = false,\r\n      showAllValues = false,\r\n      cache = false,\r\n      disableCloseOnSelect = false,\r\n      classGroup,\r\n      classPreventClosing,\r\n      classPrefix,\r\n      ariaLabelClear,\r\n      onSearch,\r\n      onResults = () => {},\r\n      onSubmit = () => {},\r\n      onOpened = () => {},\r\n      onReset = () => {},\r\n      onRender = () => {},\r\n      onClose = () => {},\r\n      noResults = () => {},\r\n      onSelectedItem = () => {},\r\n    }\r\n  ) {\r\n    this._id = element;\r\n    this._root = document.getElementById(element);\r\n    this._onSearch = isPromise(onSearch)\r\n      ? onSearch\r\n      : ({ currentValue, element }) =>\r\n          Promise.resolve(onSearch({ currentValue, element }));\r\n    this._onResults = onResults;\r\n    this._onRender = onRender;\r\n    this._onSubmit = onSubmit;\r\n    this._onSelected = onSelectedItem;\r\n    this._onOpened = onOpened;\r\n    this._onReset = onReset;\r\n    this._noResults = noResults;\r\n    this._onClose = onClose;\r\n\r\n    this._delay = delay;\r\n    this._characters = howManyCharacters;\r\n    this._clearButton = clearButton;\r\n    this._clearButtonOnInitial = clearButtonOnInitial;\r\n    this._selectFirst = selectFirst;\r\n    this._toInput = insertToInput;\r\n    this._showAll = showAllValues;\r\n    this._classGroup = classGroup;\r\n    this._prevClosing = classPreventClosing;\r\n    this._clearBtnAriLabel = ariaLabelClear\r\n      ? ariaLabelClear\r\n      : \"clear the search query\";\r\n    this._prefix = classPrefix ? `${classPrefix}-auto` : \"auto\";\r\n    this._disable = disableCloseOnSelect;\r\n\r\n    // default config\r\n    this._cache = cache;\r\n    this._outputUl = `${this._prefix}-${this._id}-results`;\r\n    this._cacheData = `data-cache-auto-${this._id}`;\r\n    this._isLoading = `${this._prefix}-is-loading`;\r\n    this._isActive = `${this._prefix}-is-active`;\r\n    this._activeList = `${this._prefix}-selected`;\r\n    this._selectedOption = `${this._prefix}-selected-option`;\r\n    this._err = `${this._prefix}-error`;\r\n    this._regex = /[|\\\\{}()[\\]^$+*?.]/g;\r\n    this._timeout = null;\r\n\r\n    this._resultWrap = createElement(\"div\");\r\n    this._resultList = createElement(\"ul\");\r\n    this._clearBtn = createElement(\"button\");\r\n\r\n    this._initial();\r\n  }\r\n\r\n  /**\r\n   * Initial function\r\n   */\r\n  _initial = () => {\r\n    this._clearbutton();\r\n\r\n    output(\r\n      this._root,\r\n      this._resultList,\r\n      this._outputUl,\r\n      this._resultWrap,\r\n      this._prefix\r\n    );\r\n\r\n    // default aria\r\n    onEvent(this._root, \"input\", this._handleInput);\r\n\r\n    // show all values on click root input\r\n    this._showAll && onEvent(this._root, \"click\", this._handleInput);\r\n\r\n    // calback functions\r\n    this._onRender({\r\n      element: this._root,\r\n      results: this._resultList,\r\n    });\r\n\r\n    // show clear button if\r\n    if (this._clearButtonOnInitial) {\r\n      showBtnToClearData(this._clearBtn, this.destroy);\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Actions on input\r\n   *\r\n   * @param {String} type - set attribute depending on type\r\n   * @param {String} target\r\n   */\r\n  _cacheAct = (type, target) => {\r\n    if (!this._cache) return;\r\n\r\n    if (type === \"update\") {\r\n      this._root.setAttribute(this._cacheData, target.value);\r\n    } else if (type === \"remove\") {\r\n      this._root.removeAttribute(this._cacheData);\r\n    } else {\r\n      this._root.value = this._root.getAttribute(this._cacheData);\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Handle input\r\n   *\r\n   * @param {Event} object\r\n   */\r\n  _handleInput = ({ target, type }) => {\r\n    if (\r\n      this._root.getAttribute(\"aria-expanded\") === \"true\" &&\r\n      type === \"click\"\r\n    ) {\r\n      return;\r\n    }\r\n\r\n    // replace all special characters\r\n    const regex = target.value.replace(this._regex, \"\\\\$&\");\r\n\r\n    // update data attribute cache\r\n    this._cacheAct(\"update\", target);\r\n\r\n    const delay = this._showAll ? 0 : this._delay;\r\n    // clear timeout\r\n    clearTimeout(this._timeout);\r\n    this._timeout = setTimeout(() => {\r\n      this._searchItem(regex.trim());\r\n    }, delay);\r\n  };\r\n\r\n  /**\r\n   * Default aria\r\n   */\r\n  _reset = () => {\r\n    // set attributes to root - input\r\n    setAttributes(this._root, {\r\n      \"aria-owns\": `${this._id}-list`,\r\n      \"aria-expanded\": \"false\",\r\n      \"aria-autocomplete\": \"list\",\r\n      \"aria-activedescendant\": \"\",\r\n      role: \"combobox\",\r\n      removeClass: \"auto-expanded\",\r\n    });\r\n\r\n    // remove class isActive\r\n    classList(this._resultWrap, \"remove\", this._isActive);\r\n\r\n    // set default aria-selected, remove id and remove class 'auto-selected'\r\n    this._removeAria(select(`.${this._activeList}`));\r\n\r\n    // remove result when lengh = 0 and insertToInput is false\r\n    // https://github.com/tomik23/autocomplete/issues/136\r\n    if ((this._matches?.length == 0 && !this._toInput) || this._showAll) {\r\n      this._resultList.textContent = \"\";\r\n    }\r\n\r\n    // set index\r\n    this._index = this._selectFirst ? 0 : -1;\r\n\r\n    // callback function\r\n    this._onClose();\r\n  };\r\n\r\n  /**\r\n   * The async function gets the text from the search\r\n   * and returns the matching array\r\n   *\r\n   * @param {String} value\r\n   */\r\n  _searchItem = (value) => {\r\n    this._value = value;\r\n\r\n    // if searching show loading icon\r\n    this._onLoading(true);\r\n\r\n    // hide button clear\r\n    showBtnToClearData(this._clearBtn, this.destroy);\r\n\r\n    // if there is no value and clearButton is true\r\n    if (value.length == 0 && this._clearButton) {\r\n      classList(this._clearBtn, \"add\", \"hidden\");\r\n    }\r\n\r\n    // if declare characters more then value.len and showAll is false\r\n    // remove class isActive\r\n    if (this._characters > value.length && !this._showAll) {\r\n      this._onLoading();\r\n      return;\r\n    }\r\n\r\n    // callblack function onSearch\r\n    this._onSearch({ currentValue: value, element: this._root })\r\n      .then((result) => {\r\n        const rootValueLength = this._root.value.length;\r\n        const resultLength = result.length;\r\n        // set no result\r\n        this._matches = Array.isArray(result)\r\n          ? result\r\n          : JSON.parse(JSON.stringify(result));\r\n\r\n        this._onLoading();\r\n        this._error();\r\n\r\n        // if use destroy() method\r\n        if (resultLength == 0 && rootValueLength == 0) {\r\n          classList(this._clearBtn, \"add\", \"hidden\");\r\n        }\r\n\r\n        if (resultLength == 0 && rootValueLength) {\r\n          classList(this._root, \"remove\", \"auto-expanded\");\r\n          this._reset();\r\n          this._noResults({\r\n            element: this._root,\r\n            currentValue: value,\r\n            template: this._results,\r\n          });\r\n          this._events();\r\n        } else if (resultLength > 0 || isObject(result)) {\r\n          this._index = this._selectFirst ? 0 : -1;\r\n          this._results();\r\n          this._events();\r\n        }\r\n      })\r\n      .catch(() => {\r\n        this._onLoading();\r\n        this._reset();\r\n      });\r\n  };\r\n\r\n  /**\r\n   * Set or remove loading class\r\n   *\r\n   * @param {Boolean} type\r\n   */\r\n  _onLoading = (type) =>\r\n    this._root.parentNode.classList[type ? \"add\" : \"remove\"](this._isLoading);\r\n\r\n  /**\r\n   * Set error class to the root element\r\n   */\r\n  _error = () => classList(this._root, \"remove\", this._err);\r\n\r\n  /**\r\n   * Events\r\n   */\r\n  _events = () => {\r\n    // handle click on keydown [up, down, enter, tab, esc]\r\n    onEvent(this._root, \"keydown\", this._handleKeys);\r\n\r\n    onEvent(this._root, \"click\", this._handleShowItems);\r\n\r\n    // close expanded items\r\n    onEvent(document, \"click\", this._handleDocClick);\r\n\r\n    // temporarily disabled mouseleave\r\n    [\"mousemove\", \"click\"].map((eventType) => {\r\n      onEvent(this._resultList, eventType, this._handleMouse);\r\n    });\r\n  };\r\n\r\n  /**\r\n   * Results\r\n   *\r\n   * @param {HTMLElement|String} template - html or string returned from the function,\r\n   * look at the example - https://github.com/tomik23/autocomplete/blob/master/docs/js/examples/no-results.js#L30\r\n   */\r\n  _results = (template) => {\r\n    // set attribute to root\r\n    setAttributes(this._root, {\r\n      \"aria-expanded\": \"true\",\r\n      addClass: `${this._prefix}-expanded`,\r\n    });\r\n\r\n    // clear result list\r\n    this._resultList.textContent = \"\";\r\n\r\n    // add all found records to otput ul\r\n    const dataResults =\r\n      this._matches.length === 0\r\n        ? this._onResults({\r\n            currentValue: this._value,\r\n            matches: 0,\r\n            template,\r\n          })\r\n        : this._onResults({\r\n            currentValue: this._value,\r\n            matches: this._matches,\r\n            classGroup: this._classGroup,\r\n          });\r\n\r\n    // add data to ul\r\n    this._resultList.insertAdjacentHTML(\"afterbegin\", dataResults);\r\n\r\n    // add class isActive\r\n    classList(this._resultWrap, \"add\", this._isActive);\r\n\r\n    const checkIfClassGroupExist = this._classGroup\r\n      ? `:not(.${this._classGroup})`\r\n      : \"\";\r\n\r\n    this._itemsLi = document.querySelectorAll(\r\n      `#${this._outputUl} > li${checkIfClassGroupExist}`\r\n    );\r\n\r\n    // adding role, tabindex and aria\r\n    addAriaToAllLiElements(this._itemsLi);\r\n\r\n    // action on open results\r\n    this._onOpened({\r\n      type: \"results\",\r\n      element: this._root,\r\n      results: this._resultList,\r\n    });\r\n\r\n    // select first element\r\n    this._selectFirstElement();\r\n\r\n    // move the view item to the first item\r\n    // this.resultList.scrollTop = 0;\r\n    scrollResultsToTop(this._resultList, this._resultWrap);\r\n  };\r\n\r\n  /**\r\n   * Hangle click on document\r\n   *\r\n   * @param {Event} object\r\n   */\r\n  _handleDocClick = ({ target }) => {\r\n    let disableClose = null;\r\n\r\n    // if 'target' is a ul and 'disableCloseOnSelect'\r\n    // is a 'true' set 'disableClose' on true\r\n    if (\r\n      (target.closest(\"ul\") && this._disable) ||\r\n      // when class classDisableClose\r\n      // then do not not close results\r\n      target.closest(`.${this._prevClosing}`)\r\n    ) {\r\n      disableClose = true;\r\n    }\r\n\r\n    if (target.id !== this._id && !disableClose) {\r\n      this._reset();\r\n      return;\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Select first element\r\n   */\r\n  _selectFirstElement = () => {\r\n    this._removeAria(select(`.${this._activeList}`));\r\n\r\n    if (!this._selectFirst) {\r\n      return;\r\n    }\r\n\r\n    const { firstElementChild } = this._resultList;\r\n\r\n    const classSelectFirst =\r\n      this._classGroup && this._matches.length > 0 && this._selectFirst\r\n        ? firstElementChild.nextElementSibling\r\n        : firstElementChild;\r\n\r\n    // calback function onSelect when first element is true\r\n    this._onSelected({\r\n      index: this._index,\r\n      element: this._root,\r\n      object: this._matches[this._index],\r\n    });\r\n\r\n    // set attribute to first element\r\n    setAttributes(classSelectFirst, {\r\n      id: `${this._selectedOption}-0`,\r\n      addClass: this._activeList,\r\n      \"aria-selected\": \"true\",\r\n    });\r\n\r\n    // set aria active descendant\r\n    setAriaActivedescendant(this._root, `${this._selectedOption}-0`);\r\n  };\r\n\r\n  /**\r\n   * show items when items.length > 0 and is not empty\r\n   */\r\n  _handleShowItems = () => {\r\n    // if resultWrap is not active and resultList is not empty\r\n    if (\r\n      this._resultList.textContent.length > 0 &&\r\n      !classList(this._resultWrap, \"contains\", this._isActive)\r\n    ) {\r\n      // set attribute to root\r\n      setAttributes(this._root, {\r\n        \"aria-expanded\": \"true\",\r\n        addClass: `${this._prefix}-expanded`,\r\n      });\r\n\r\n      // add isActive class to resultWrap\r\n      classList(this._resultWrap, \"add\", this._isActive);\r\n\r\n      // move the view item to the first item\r\n      // this.resultList.scrollTop = 0;\r\n      scrollResultsToTop(this._resultList, this._resultWrap);\r\n\r\n      // select first element\r\n      this._selectFirstElement();\r\n\r\n      // callback function\r\n      this._onOpened({\r\n        type: \"showItems\",\r\n        element: this._root,\r\n        results: this._resultList,\r\n      });\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Adding text from the list when li is clicking\r\n   * or adding aria-selected to li elements\r\n   *\r\n   * @param {Event} event\r\n   */\r\n  _handleMouse = (event) => {\r\n    event.preventDefault();\r\n\r\n    const { target, type } = event;\r\n    const targetClosest = target.closest(\"li\");\r\n    const targetClosestRole = targetClosest?.hasAttribute(\"role\");\r\n    const activeClass = this._activeList;\r\n    const activeClassElement = select(`.${activeClass}`);\r\n\r\n    if (\r\n      !targetClosest ||\r\n      !targetClosestRole ||\r\n      target.closest(`.${this._prevClosing}`)\r\n    ) {\r\n      return;\r\n    }\r\n\r\n    if (type === \"click\") {\r\n      // click on li get element\r\n      // get text from clicked li\r\n      this._getTextFromLi(targetClosest);\r\n    }\r\n\r\n    if (\r\n      type === \"mousemove\" &&\r\n      !classList(targetClosest, \"contains\", activeClass)\r\n    ) {\r\n      this._removeAria(activeClassElement);\r\n\r\n      // add aria to li\r\n      this._setAria(targetClosest);\r\n      this._index = this._indexLiSelected(targetClosest);\r\n\r\n      this._onSelected({\r\n        index: this._index,\r\n        element: this._root,\r\n        object: this._matches[this._index],\r\n      });\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Get text from li on enter or click\r\n   *\r\n   * @param {HTMLElement} element\r\n   */\r\n  _getTextFromLi = (element) => {\r\n    if (!element || this._matches.length === 0) {\r\n      // set default settings\r\n      !this._disable && this._reset();\r\n\r\n      return;\r\n    }\r\n\r\n    // show clearBtn when select element\r\n    this._clearButton && classList(this._clearBtn, \"remove\", \"hidden\");\r\n\r\n    // get first element from li and set it to root\r\n    this._root.value = getFirstElement(element);\r\n\r\n    // onSubmit passing text to function\r\n    this._onSubmit({\r\n      index: this._index,\r\n      element: this._root,\r\n      object: this._matches[this._index],\r\n      results: this._resultList,\r\n    });\r\n\r\n    // set default settings\r\n    if (!this._disable) {\r\n      this._removeAria(element);\r\n      this._reset();\r\n    }\r\n\r\n    // remove cache\r\n    this._cacheAct(\"remove\");\r\n  };\r\n\r\n  /**\r\n   * Return which li element was selected\r\n   * by hovering the mouse over\r\n   *\r\n   * @param {HTMLElement} target\r\n   * @returns {Number}\r\n   */\r\n  _indexLiSelected = (target) =>\r\n    // get index of li element\r\n    Array.prototype.indexOf.call(this._itemsLi, target);\r\n\r\n  /**\r\n   * Navigating the elements li and enter\r\n   *\r\n   * @param {Event} event\r\n   */\r\n  _handleKeys = (event) => {\r\n    const { keyCode } = event;\r\n\r\n    const resultList = classList(this._resultWrap, \"contains\", this._isActive);\r\n\r\n    const matchesLength = this._matches.length + 1;\r\n    this._selectedLi = select(`.${this._activeList}`);\r\n\r\n    // switch between keys\r\n    switch (keyCode) {\r\n      case keyCodes.UP:\r\n      case keyCodes.DOWN:\r\n        // Wrong cursor position in the input field #62\r\n        // Prevents the cursor from moving to the beginning\r\n        // of input as the cursor hovers over the results.\r\n        event.preventDefault();\r\n\r\n        if ((matchesLength <= 1 && this._selectFirst) || !resultList) {\r\n          return;\r\n        }\r\n\r\n        // if keyCode is up\r\n        if (keyCode === keyCodes.UP) {\r\n          if (this._index < 0) {\r\n            this._index = matchesLength - 1;\r\n          }\r\n          this._index -= 1;\r\n        } else {\r\n          this._index += 1;\r\n          if (this._index >= matchesLength) {\r\n            this._index = 0;\r\n          }\r\n        }\r\n\r\n        // remove aria-selected\r\n        this._removeAria(this._selectedLi);\r\n\r\n        if (this._index >= 0 && this._index < matchesLength - 1) {\r\n          const selectedElement = this._itemsLi[this._index];\r\n\r\n          if (this._toInput && resultList) {\r\n            this._root.value = getFirstElement(selectedElement);\r\n          }\r\n\r\n          // callback function\r\n          this._onSelected({\r\n            index: this._index,\r\n            element: this._root,\r\n            object: this._matches[this._index],\r\n          });\r\n\r\n          // set aria-selected\r\n          this._setAria(selectedElement);\r\n        } else {\r\n          // catch action\r\n          this._cacheAct();\r\n          setAriaActivedescendant(this._root);\r\n\r\n          this._onSelected({\r\n            index: null,\r\n            element: this._root,\r\n            object: null,\r\n          });\r\n        }\r\n\r\n        break;\r\n      // keycode enter\r\n      case keyCodes.ENTER:\r\n        // https:github.com/tomik23/autocomplete/issues/145\r\n        event.preventDefault();\r\n\r\n        this._getTextFromLi(this._selectedLi);\r\n        break;\r\n\r\n      // keycode escape and keycode tab\r\n      case keyCodes.TAB:\r\n      case keyCodes.ESC:\r\n        event.stopPropagation();\r\n        this._reset();\r\n\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Set aria label on item li\r\n   *\r\n   * @param {HTMLElement} target\r\n   */\r\n  _setAria = (target) => {\r\n    const selectedOption = `${this._selectedOption}-${this._indexLiSelected(\r\n      target\r\n    )}`;\r\n\r\n    // set aria to li\r\n    setAttributes(target, {\r\n      id: selectedOption,\r\n      \"aria-selected\": \"true\",\r\n      addClass: this._activeList,\r\n    });\r\n\r\n    setAriaActivedescendant(this._root, selectedOption);\r\n\r\n    // scrollIntoView when press up/down arrows\r\n    followActiveElement(\r\n      target,\r\n      this._outputUl,\r\n      this._classGroup,\r\n      this._resultList\r\n    );\r\n  };\r\n\r\n  /**\r\n   * Remove aria label from item li\r\n   *\r\n   * @param {HTMLElement} element\r\n   */\r\n  _removeAria = (element) => {\r\n    if (!element) return;\r\n\r\n    // remove aria from li\r\n    setAttributes(element, {\r\n      id: \"\",\r\n      removeClass: this._activeList,\r\n      \"aria-selected\": \"false\",\r\n    });\r\n  };\r\n\r\n  /**\r\n   * Create clear button and\r\n   * removing text from the input field\r\n   */\r\n  _clearbutton = () => {\r\n    // stop when clear button is disabled\r\n    if (!this._clearButton) return;\r\n\r\n    // add aria to clear button\r\n    setAttributes(this._clearBtn, {\r\n      class: `${this._prefix}-clear hidden`,\r\n      type: \"button\",\r\n      title: this._clearBtnAriLabel,\r\n      \"aria-label\": this._clearBtnAriLabel,\r\n    });\r\n\r\n    // insert clear button after input - root\r\n    this._root.insertAdjacentElement(\"afterend\", this._clearBtn);\r\n  };\r\n\r\n  /**\r\n   * Clicking on the clear button\r\n   * publick destroy method\r\n   */\r\n  destroy = () => {\r\n    // if clear button is true then add class hidden\r\n    this._clearButton && classList(this._clearBtn, \"add\", \"hidden\");\r\n    // clear value searchId\r\n    this._root.value = \"\";\r\n    // set focus\r\n    this._root.focus();\r\n    // remove li from ul\r\n    this._resultList.textContent = \"\";\r\n    // set default aria\r\n    this._reset();\r\n    // remove error if exist\r\n    this._error();\r\n\r\n    // callback function\r\n    this._onReset(this._root);\r\n\r\n    // remove listener\r\n    offEvent(this._root, \"keydown\", this._handleKeys);\r\n    offEvent(this._root, \"click\", this._handleShowItems);\r\n    // remove listener on click on document\r\n    offEvent(document, \"click\", this._handleDocClick);\r\n  };\r\n}\r\n"],"names":["isObject","value","constructor","Object","isPromise","Boolean","then","setAttributes","el","object","key","classList","setAttribute","getFirstElement","element","firstElementChild","textContent","trim","scrollResultsToTop","resultList","resultWrap","scrollTop","offsetTop","offsetHeight","addAriaToAllLiElements","itemsLi","i","length","role","tabindex","showBtnToClearData","clearButton","destroy","onEvent","action","className","setAriaActivedescendant","root","type","getClassGroupHeight","outputUl","classGroup","allLiElements","document","querySelectorAll","height","slice","call","map","followActiveElement","target","previusElement","previousSibling","previusElementHeight","getAttribute","offsetBottom","scrollBottom","output","prefix","id","tabIndex","addClass","insertAdjacentElement","parentNode","insertBefore","nextSibling","createElement","select","querySelector","callback","addEventListener","offEvent","removeEventListener","keyCodes","ESC","ENTER","UP","DOWN","TAB","Autocomplete","delay","clearButtonOnInitial","howManyCharacters","selectFirst","insertToInput","showAllValues","cache","disableCloseOnSelect","classPreventClosing","classPrefix","ariaLabelClear","onSearch","onResults","onSubmit","onOpened","onReset","onRender","onClose","noResults","onSelectedItem","_initial","_clearbutton","_root","_resultList","_outputUl","_resultWrap","_prefix","_handleInput","_showAll","_onRender","results","_clearButtonOnInitial","_clearBtn","_cacheAct","_cache","_cacheData","removeAttribute","regex","replace","_regex","_delay","clearTimeout","_timeout","setTimeout","_searchItem","_reset","_id","removeClass","_isActive","_removeAria","_activeList","_matches","_toInput","_index","_selectFirst","_onClose","_value","_onLoading","_clearButton","_characters","_onSearch","currentValue","result","rootValueLength","resultLength","Array","isArray","JSON","parse","stringify","_error","_noResults","template","_results","_events","catch","_isLoading","_err","_handleKeys","_handleShowItems","_handleDocClick","eventType","_handleMouse","dataResults","_onResults","matches","_classGroup","insertAdjacentHTML","checkIfClassGroupExist","_itemsLi","_onOpened","_selectFirstElement","disableClose","closest","_disable","_prevClosing","classSelectFirst","nextElementSibling","_onSelected","index","_selectedOption","event","preventDefault","targetClosest","targetClosestRole","hasAttribute","activeClass","activeClassElement","_getTextFromLi","_setAria","_indexLiSelected","_onSubmit","prototype","indexOf","keyCode","matchesLength","_selectedLi","selectedElement","stopPropagation","selectedOption","class","title","_clearBtnAriLabel","focus","_onReset","getElementById","Promise","resolve"],"mappings":"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"}